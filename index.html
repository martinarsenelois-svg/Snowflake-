<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>â„ï¸ Snowflake Chat</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- Snow -->
<canvas id="snow"></canvas>

<!-- Top Bar -->
<header class="topbar">
  <div class="left">
    <img id="avatar" src="https://api.dicebear.com/6.x/identicon/svg?seed=snow" />
    <span class="title">â„ï¸ Snowflake Chat</span>
  </div>
  <div class="right">
    <button id="toggleSnow" title="Snow">â„ï¸</button>
    <button id="toggleTheme" title="Theme">ğŸŒ™</button>
    <button id="openSettings" title="Settings">âš™ï¸</button>
  </div>
</header>

<!-- LOGIN -->
<section id="loginScreen" class="panel center">
  <h2>Welcome to Snowflake</h2>
  <p>Private access</p>

  <input id="loginPassword" type="password" placeholder="Password" />
  <button id="loginBtn">Enter</button>
  <p id="loginError" class="error"></p>

  <hr />

  <input id="nameInput" type="text" placeholder="Your username" />
  <button id="saveName">Save name</button>

  <p class="muted">Username is used to find you in chats</p>
</section>

<!-- MAIN APP -->
<section id="app" class="hidden">

  <div class="layout">

    <!-- LEFT PANEL (Chats & Search) -->
    <aside class="sidebar">
      <div class="searchBox">
        <input id="userSearch" type="text" placeholder="Search usernameâ€¦" />
      </div>

      <div id="userList" class="userList">
        <!-- Users injected here -->
      </div>
    </aside>

    <!-- RIGHT PANEL (Chat) -->
    <main class="chatArea">

      <div id="chatHeader" class="chatHeader hidden">
        <span id="chatWith">Select a user</span>
      </div>

      <div id="messages" class="messages"></div>

      <div id="typingIndicator" class="typing"></div>

      <div class="composer">
        <input id="fileInput" type="file" accept="image/*,audio/*" hidden />
        <button id="attachBtn" title="Attach">ğŸ“</button>
        <button id="recordBtn" title="Record">ğŸ™</button>
        <input id="messageInput" type="text" placeholder="Type a messageâ€¦" />
        <button id="sendBtn">Send</button>
      </div>

    </main>

  </div>
</section>

<!-- SETTINGS -->
<aside id="settingsPanel" class="panel hidden">
  <h3>Settings</h3>

  <label>
    Disappearing messages (minutes)
    <select id="ttlSelect">
      <option value="0">Off</option>
      <option value="1">1</option>
      <option value="5">5</option>
      <option value="30">30</option>
    </select>
  </label>

  <label>
    <input id="snowToggle" type="checkbox" checked />
    Enable snow
  </label>

  <div class="settingsActions">
    <button id="logoutBtn">Logout</button>
    <button id="clearChatBtn">Clear current chat</button>
  </div>
</aside>

<!-- Firebase v8 -->
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-storage.js"></script>

<script src="script.js"></script>
</body>
</html>