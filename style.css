:root {
  --bg:#e3f2fd;
  --glass:rgba(255,255,255,.75);
  --accent:#7e57c2;
  --me:linear-gradient(135deg,#9f7aea,#6b46c1);
}

*{box-sizing:border-box}
body{
  margin:0;
  height:100dvh;
  display:flex;
  flex-direction:column;
  background:var(--bg);
  font-family:system-ui,sans-serif;
  overflow:hidden;
}

body.dark{
  --bg:#0e0e15;
  --glass:rgba(20,20,30,.75);
  color:#fff;
}

#snow{position:fixed;inset:0;pointer-events:none}

.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px;
  background:var(--glass);
  backdrop-filter:blur(10px);
}

.left{display:flex;gap:10px;align-items:center}
.left img{width:40px;height:40px;border-radius:12px}

.panel{
  margin:20px auto;
  padding:16px;
  width:90%;
  max-width:340px;
  background:var(--glass);
  border-radius:14px;
}

.center{text-align:center}
.hidden{display:none}

#chat{
  flex:1;
  overflow-y:auto;
  padding:12px;
}

.msg{
  max-width:75%;
  padding:10px;
  border-radius:16px;
  margin-bottom:8px;
  animation:pop .12s ease;
}

.me{
  margin-left:auto;
  background:var(--me);
  color:#fff;
  border-bottom-right-radius:4px;
}

.other{
  background:var(--glass);
  border-bottom-left-radius:4px;
}

.meta{
  font-size:11px;
  opacity:.7;
  margin-top:4px;
}

.reactions span{
  cursor:pointer;
  margin-right:4px;
}

.reply{
  background:var(--glass);
  padding:6px 10px;
  display:flex;
  justify-content:space-between;
}

.composer{
  display:flex;
  gap:8px;
  padding:10px;
  background:var(--glass);
  padding-bottom:calc(10px + env(safe-area-inset-bottom));
}

.composer input{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:none;
}

.composer button{
  border:none;
  border-radius:50%;
  padding:10px 14px;
  background:var(--accent);
  color:#fff;
}

@keyframes pop{
  from{transform:translateY(6px);opacity:0}
  to{transform:none;opacity:1}
}